Tanda 1 de 5: El Concepto y la Marca "Voleio"
1. "Voleio": Definiendo el Concepto y la Marca
Antes de construir cualquier línea de código, debemos entender el alma de nuestro proyecto. El nombre "Voleio" no es solo una etiqueta; es nuestro manifiesto.
a) La Definición de "Voleio"
El "voleio" (del portugués/español: volea) es uno de los golpes más técnicos, dinámicos y decisivos en el tenis de playa. Es la acción de golpear la pelota en el aire, antes de que toque el suelo. Este acto encapsula:
Inmediatez y Reacción: Un voleo es una respuesta instantánea. No hay tiempo para pensar, solo para actuar.
Proactividad y Anticipación: Un buen jugador no espera a que la pelota llegue; se mueve hacia ella y anticipa la jugada.
Conexión y Ritmo: El voleo es parte de un intercambio rápido y rítmico sobre la red, un diálogo cinético entre compañeros y rivales.
Técnica y Elegancia: Un voleo bien ejecutado es a la vez efectivo y estéticamente agradable.
b) La Defensa de "Voleio" como Marca
"Voleio" es el nombre perfecto para esta aplicación porque resuena directamente con el problema que resolvemos y la comunidad a la que servimos.
Relevancia Instantánea: Cualquier jugador de tenis de playa, sin importar su idioma, entiende el concepto. El nombre genera una conexión inmediata y demuestra que la aplicación "entiende el juego". No es un nombre genérico de tecnología; es un nombre de la comunidad.
Evocación de la Inmediatez: El ADN de la marca se alinea con nuestra funcionalidad principal: la búsqueda de partidos en tiempo real. "Voleio" es sinónimo de "ahora". La aplicación permite a los jugadores "volear" una invitación a jugar y recibir una respuesta al instante, sin que la oportunidad "pique en el suelo".
Sonoridad y Memorabilidad: Es una palabra corta, enérgica y fácil de recordar. Suena a acción, a movimiento, a la arena y al sonido de la pelota. Tiene un atractivo internacional, especialmente en los mercados clave de este deporte (Brasil, Italia, España, Francia).
Metáfora de Conexión: Así como el voleo conecta una jugada con la siguiente, Voleio (la app) conecta a un jugador con el siguiente, a un equipo con su rival, y a un aficionado con una cancha. Somos el puente que permite que el juego fluya sin interrupciones.
En resumen, Voleio no es solo una app para encontrar partidos; es una plataforma que encarna la velocidad, la conexión y la pasión del golpe que le da nombre.
2. El Proyecto Conceptual de Voleio: Los Pilares Fundamentales
Definamos el proyecto punto por punto, estableciendo las bases sobre las cuales se construirán todas las funcionalidades.
Pilar 1: La Conexión Dual (El Corazón de Voleio)
Voleio resolverá la necesidad de jugar mediante dos flujos principales, que convivirán en armonía:
El Voleio Inmediato (Partido al Instante): Es la función de emergencia, la respuesta a la pregunta "¿Quién juega ahora?".
Activación de Disponibilidad: Un simple interruptor que le dice a la comunidad: "Estoy listo para jugar ya".
Creación de Partidos "Flash": Permite crear una necesidad inmediata, con un énfasis especial en la opción "¡Nos Falta Uno!", que será un llamado de urgencia visualmente destacado para cerrar partidos incompletos.
Geolocalización en Tiempo Real: Un mapa o listado que muestra en vivo a otros jugadores y partidos "flash" disponibles cerca de ti, creando un mercado dinámico de jugadores.
La Jugada Planificada (Agendar Partido): Es la herramienta para organizar el futuro, para el jugador que planifica su semana.
Creación de Eventos Futuros: Permite proponer un partido para una fecha, hora y lugar específicos, definiendo cuántos jugadores se buscan.
Sistema de Convocatoria: Otros jugadores pueden ver estos partidos agendados y solicitar unirse. El creador del evento gestiona las confirmaciones.
Integración y Recordatorios: Se integra con los calendarios personales y envía notificaciones para que nadie olvide la cita.
Pilar 2: El Ecosistema de Crecimiento (Gamificación y Competencia)
Voleio no solo conecta, sino que también motiva. Queremos que cada partido cuente.
Ranking Voleio (Sistema ELO): Un sistema de clasificación dinámico que ajusta el nivel de cada jugador después de cada partido registrado. Esto asegura un matchmaking más justo y alimenta el espíritu competitivo.
Sistema de Logros y Trofeos: Insignias virtuales que recompensan la constancia, la exploración y los hitos ("Rey de la Playa", "Racha de Victorias", "Madrugador").
Niveles y Experiencia (XP): Cada acción dentro de la app (jugar, organizar, ganar) otorga puntos de experiencia que permiten al jugador subir de nivel, mostrando su trayectoria y compromiso con la comunidad.
Pilar 3: El Escenario Digital (Comunidad y Contenido)
El juego termina, pero la comunidad permanece. Voleio será el lugar de encuentro antes, durante y después del partido.
Perfiles de Jugador Enriquecidos: Más que una foto. Serán una carta de presentación deportiva: nivel de ELO, estadísticas (partidos jugados, % de victorias), trofeos ganados y compañeros frecuentes.
Red Social Integrada: Sistema de amigos, chat para coordinar partidos y la posibilidad de crear grupos permanentes (equipos de entrenamiento, grupos de club).
La Visión a Futuro: Voleio en Vivo: La evolución natural de la plataforma será integrar la capacidad de transmitir partidos en vivo directamente desde el celular. Esto transforma cada cancha en un escenario y a cada jugador en un creador de contenido, amplificando exponencialmente el engagement.
Pilar 4: La Estructura Sostenible (El Modelo de Negocio Piramidal)
El proyecto se sustenta en una arquitectura clara con tres niveles de acceso, lo que garantiza su escalabilidad y viabilidad.
Jugadores (La Base): El corazón de la comunidad, cuyo objetivo es jugar y socializar.
Parceiros/Clubes (El Nivel Medio): Propietarios de canchas y negocios relacionados que gestionan sus reservas, promocionan sus servicios y se conectan con la base de jugadores.
Administración (La Cima): El equipo de Voleio, que supervisa la plataforma, analiza datos y asegura el buen funcionamiento del ecosistema.

Tanda 2 de 5: Índice de Contenidos y Arquitectura Tecnológica
Esta sección es el plano de Voleio. Define cada vista, cada componente y cada pieza de tecnología que dará vida a nuestra visión.
1. Índice de Contenidos (Feature Breakdown)
Este índice desglosa la totalidad de la plataforma en sus módulos y funcionalidades principales, organizados según la estructura piramidal que definimos.
A. Aplicación Principal (Área de Jugadores)
1.0 Onboarding y Autenticación
1.1 Pantalla de Bienvenida y Propuesta de Valor.
1.2 Registro de Usuario (Email/Contraseña + Login Social con Google).
1.3 Inicio de Sesión.
1.4 Proceso de Creación de Perfil Guiado (Nombre, Foto, Ubicación principal, Auto-evaluación de Nivel).
2.0 Dashboard Principal (Pantalla de Inicio)
2.1 Vista de Mapa/Listado en Tiempo Real de "Jugadores Disponibles Ahora".
2.2 Feed de "Partidos Agendados Abiertos" cerca de ti.
2.3 Acceso Rápido: Botón "¡Nos Falta Uno!" y "Agendar Partido".
2.4 Sección "Mis Próximos Partidos".
3.0 Flujo "Voleio Inmediato"
3.1 Interruptor de Estado Global: "Disponible para Jugar" / "No Disponible".
3.2 Pantalla de Creación de "Partido Flash" (Ubicación, Jugadores necesarios).
3.3 Sistema de Notificaciones Push para invitaciones a Partidos Flash.
3.4 Interfaz para Aceptar/Rechazar invitaciones.
3.5 Creación automática de Chat Grupal al completarse un partido.
4.0 Flujo "Agendar Partido"
4.1 Buscador de Partidos Futuros (con filtros por fecha, ubicación, nivel).
4.2 Formulario de Creación de Partido Agendado (Fecha, Hora, Lugar, Plazas).
4.3 Sistema de Solicitud para Unirse y Aprobación por parte del creador.
4.4 Integración "Añadir a mi Calendario" (Google Calendar, iCal).
5.0 Perfil y Gamificación
5.1 Vista de Mi Perfil (Editable).
5.2 Estadísticas Clave: Ranking ELO, Nivel/XP, % Victorias, Partidos Jugados.
5.3 Galería de Trofeos y Logros (Badges) obtenidos.
5.4 Historial de Partidos (con resultados y rivales/compañeros).
5.5 Vista de Perfiles Públicos de otros jugadores.
6.0 Comunidad y Aspecto Social
6.1 Sistema de Amigos (Añadir, Eliminar, Ver Amigos).
6.2 Rankings/Leaderboards (Filtrables por Amigos, Local, Global).
6.3 Sistema de Chat (Chats de partido, Chats 1-a-1 con amigos).
7.0 Gestión y Configuración
7.1 Pantalla "Mis Partidos" (historial completo y próximos agendados).
7.2 Configuración de la Cuenta (Cambiar contraseña, email).
7.3 Gestión de Notificaciones (Control granular sobre qué avisos recibir).
B. Portal de Parceiros (Área de Clubes y Empresas)
1.0 Gestión del Club
1.1 Perfil Público del Club (Fotos, Descripción, Servicios, Ubicación).
1.2 Gestión de Canchas (Añadir/editar canchas, horarios, precios).
2.0 Gestión de Reservas
2.1 Calendario Visual de Ocupación por cancha.
2.2 Aceptación/Rechazo de solicitudes de reserva (si aplica).
2.3 Historial de Reservas y Clientes.
3.0 Dashboard y Analíticas
3.1 Métricas Clave: Tasa de ocupación, horas pico, ingresos generados a través de Voleio.
C. Panel de Administración (Área de Superusuario)
1.0 Dashboard General de la Plataforma
1.1 Métricas de Salud: Usuarios Activos Diarios (DAU), Partidos Creados, Crecimiento.
2.0 Gestión de Contenido y Comunidad
2.1 Gestión de Usuarios (Buscar, Ver, Suspender).
2.2 Gestión de Parceiros (Proceso de aprobación y gestión).
2.3 Herramientas de Moderación.
3.0 Configuración del Sistema
3.1 Gestión de Parámetros de Gamificación (Crear nuevos logros, ajustar algoritmos de XP/ELO).
2. El Stack Tecnológico: Las Herramientas para la Construcción
La elección de la tecnología no es arbitraria; cada pieza está seleccionada para cumplir un propósito específico dentro de Voleio, priorizando la escalabilidad, la experiencia del desarrollador y, sobre todo, la experiencia del usuario final.
Arquitectura General
Monorepo: Nx será el cerebro que orqueste todo nuestro código. Nos permitirá compartir lógica (api-interfaces, utils), componentes de UI (ui-components) y tipos entre el frontend y el backend de manera trivial, acelerando el desarrollo y garantizando la consistencia.
Frontend (PWA para todas las áreas)
Framework Principal: Next.js. Elegido por su rendimiento de primera clase (SSR, SSG), sistema de routing optimizado, y su ecosistema robusto. Es la base perfecta para una PWA rápida y moderna.
Lenguaje: TypeScript. No negociable para un proyecto de esta escala. Nos dará seguridad de tipos end-to-end, reduciendo errores y mejorando la mantenibilidad.
Librería de UI: React. Por su madurez, ecosistema y paradigma declarativo que se adapta perfectamente a aplicaciones dinámicas.
Sistema de Diseño y Componentes: Shadcn/UI. Una elección moderna y pragmática. No es una librería de componentes, sino una colección de componentes reutilizables construidos sobre Radix UI (para accesibilidad) y Tailwind CSS (para estilizado). Esto nos da control total sobre el código y el estilo, evitando la "rigidez" de las librerías tradicionales. Para los iconos, usaremos Lucide React.
Gestión de Estado y Datos:
TanStack Query (React Query): Para gestionar todo el estado del servidor. Se encargará del fetching, caching, sincronización e invalidación de datos de nuestra API GraphQL de forma increíblemente eficiente.
Zustand: Para el estado global del cliente que sea simple y transversal (ej: estado de autenticación del usuario, tema de la UI). Es extremadamente ligero y simple.
Validación de Formularios y Datos: Zod. Se integrará perfectamente con TypeScript y React Hook Form para crear formularios robustos y seguros. Su capacidad de inferir tipos de esquemas es magia para la consistencia E2E.
Internacionalización (i18n): next-intl. Una librería optimizada para el App Router de Next.js que facilitará la traducción y localización de Voleio a múltiples idiomas.
Backend (API)
Entorno de Ejecución y Lenguaje: Node.js con TypeScript. Para mantener la consistencia del lenguaje en todo el stack y aprovechar el vasto ecosistema de npm.
Framework de API: Apollo Server. Es el estándar de oro para construir servidores GraphQL. Proporciona una implementación robusta que incluye soporte nativo para GraphQL Subscriptions, la tecnología clave para nuestras funcionalidades en tiempo real.
Protocolo de Comunicación: GraphQL. Nos permitirá definir una API flexible y fuertemente tipada. Las Subscriptions sobre WebSockets serán la columna vertebral del flujo "Voleio Inmediato".
Base de Datos: PostgreSQL. Por su fiabilidad, escalabilidad y, crucialmente, su potente extensión PostGIS. PostGIS nos dará capacidades avanzadas de consulta geoespacial, permitiéndonos hacer búsquedas como "encontrar todos los jugadores disponibles en un radio de 5km" de manera ultra eficiente.
ORM (Object-Relational Mapper): Prisma. Un ORM de nueva generación que pone la seguridad de tipos en primer lugar. Genera un cliente de base de datos totalmente tipado a partir de nuestro esquema, eliminando clases enteras de errores y haciendo que la interacción con la base de datos sea un placer.
Infraestructura y Despliegue (DevOps)
Contenerización: Docker. El backend y la base de datos se ejecutarán en contenedores para garantizar la paridad entre los entornos de desarrollo, staging y producción.
Plataforma de Despliegue:
Frontend (Next.js): Vercel. La plataforma de los creadores de Next.js. Ofrece una integración perfecta, despliegues automáticos (CI/CD), y una red de distribución de contenido (CDN) global para una velocidad máxima.
Backend y Base de Datos: Railway o AWS (Fargate/RDS). Railway para una puesta en marcha rápida y sencilla. AWS para una escalabilidad y control a largo plazo sin límites.

Tanda 3 de 5: Roadmap Estratégico y Jerarquización de Funcionalidades
Un roadmap no es solo una lista de tareas; es una narrativa estratégica que prioriza el valor, gestiona el riesgo y construye impulso. Dividiremos el desarrollo de Voleio en fases claras y lógicas, asegurando que cada etapa entregue un producto funcional y coherente que pueda ser probado y validado.
La jerarquización se basará en el principio de Valor vs. Esfuerzo, enfocándonos primero en las funcionalidades que son absolutamente críticas para resolver el problema principal del usuario (el "core loop") con el menor esfuerzo de implementación posible.
Fase 0: Cimentación y Arquitectura (Sprint 0) - Duración: ~2 semanas
Esta fase no produce funcionalidades visibles para el usuario, pero es la más importante para la velocidad y salud a largo plazo del proyecto. El objetivo es construir la "fábrica" antes de empezar a producir el "coche".
1. Configuración del Monorepo con Nx:
Inicialización del workspace de Nx.
Creación de la estructura de aplicaciones: apps/web-app (la PWA principal), apps/api (el backend).
Creación de las librerías compartidas esenciales: libs/api-interfaces (para tipos de GraphQL y Zod), libs/ui (para componentes compartidos).
2. Configuración del Stack Tecnológico (Boilerplate):
Backend (apps/api): Configurar Apollo Server con Node.js, TypeScript y Prisma. Definir el esquema de base de datos inicial (tablas User, Profile) y conectar a una base de datos PostgreSQL local con Docker.
Frontend (apps/web-app): Configurar Next.js con TypeScript, Tailwind CSS y Shadcn/UI. Establecer la estructura de carpetas (App Router).
3. Implementación del Flujo de Autenticación End-to-End:
Crear las mutaciones GraphQL para register y login (con hashing de contraseñas).
Implementar las pantallas de Registro e Inicio de Sesión en el frontend.
Configurar la gestión de tokens (JWT) y el estado de autenticación global con Zustand.
4. Despliegue Continuo (CI/CD) Básico:
Configurar Vercel para el frontend y Railway/AWS para el backend.
Asegurar que cada push a la rama principal despliegue automáticamente una nueva versión.
Resultado al final de la Fase 0: Un esqueleto de aplicación funcional donde un usuario puede registrarse, iniciar sesión y ver una página de bienvenida protegida. No hay funcionalidades de negocio, pero la autopista de desarrollo está construida y pavimentada.
Fase 1: El MVP - "Voleio Inmediato" y el Perfil del Jugador - Duración: ~4-6 semanas
Esta es la fase crítica. El objetivo es lanzar la versión más pequeña posible del producto que resuelva el problema más urgente: encontrar gente para jugar AHORA.
Jerarquía de Funcionalidades:
Perfil de Jugador (CRUD Básico):
Permitir al usuario, tras el registro, establecer su nombre, foto de perfil, ubicación principal y nivel de juego auto-percibido.
Vista pública del perfil de otros jugadores.
El Interruptor de Disponibilidad:
Implementar el interruptor "Disponible para Jugar" / "No Disponible" en la UI.
Crear la mutación GraphQL updatePlayerStatus.
Crucial: Crear la suscripción GraphQL onPlayerStatusChange para que los clientes puedan recibir actualizaciones en tiempo real.
Dashboard con Vista en Tiempo Real:
Crear la pantalla principal que se suscribe a onPlayerStatusChange.
Mostrar un listado simple de los jugadores que están "Disponibles" (ordenados por proximidad si es posible en esta fase inicial).
Creación de "Partido Flash" - "¡Nos Falta Uno!":
UI para crear un partido rápido (seleccionar ubicación, cuántos se necesitan).
Mutación GraphQL createFlashParty.
Suscripción GraphQL onNewFlashPartyCreated para notificar a los usuarios disponibles.
Flujo de Unión y Chat:
Implementar la lógica para que un jugador se una a un "Partido Flash".
Al completarse el partido, crear automáticamente un chat de grupo temporal para los 4 jugadores.
Resultado al final de la Fase 1: Nace Voleio. La aplicación cumple su promesa principal. Los usuarios pueden registrarse, indicar que quieren jugar, ver a otros disponibles, crear una partida urgente y coordinar a través de un chat. Es un producto lanzable y útil que puede empezar a construir una comunidad.
Fase 2: Planificación y Gamificación Inicial - Duración: ~4 semanas
Con el "core loop" de inmediatez funcionando, ahora añadimos la capacidad de planificar y las primeras capas de motivación extrínseca (gamificación).
Jerarquía de Funcionalidades:
Flujo de "Agendar Partido":
Desarrollar la UI y las operaciones GraphQL (Queries/Mutations) para crear, ver y unirse a partidos futuros.
Registro de Resultados:
Al finalizar un partido (tanto flash como agendado), permitir a los participantes introducir el resultado (ej: 21-18).
Cálculo de ELO y Estadísticas Básicas:
Implementar la lógica en el backend para que, tras registrar un resultado, se recalcule el ELO de cada jugador.
Mostrar en el perfil el ELO, el % de victorias y el total de partidos jugados.
Rankings Simples:
Crear una vista de "Ranking" que muestre a los jugadores ordenados por su ELO (filtrable por ubicación).
Historial de Partidos:
Una sección en el perfil del usuario donde pueda ver todos los partidos que ha jugado.
Resultado al final de la Fase 2: Voleio se convierte en una herramienta mucho más robusta. No solo sirve para emergencias, sino también para la organización semanal. La introducción del ELO crea un sistema competitivo y da un propósito a cada partido.
Fase 3: Expansión Social y Comunidad - Duración: ~3 semanas
Ahora que los usuarios pueden jugar y competir, fortalecemos las conexiones entre ellos.
Jerarquía de Funcionalidades:
Sistema de Amigos:
Lógica para enviar, aceptar y rechazar solicitudes de amistad.
Vista de la lista de amigos.
Logros y Trofeos (Badges):
Diseñar e implementar el sistema de logros. Empezar con 5-10 logros clave ("Madrugador", "Racha de Victorias").
Crear la galería de trofeos en el perfil.
Mejoras en el Perfil:
Mostrar compañeros frecuentes y estadísticas compartidas.
Notificaciones Mejoradas:
Añadir notificaciones para eventos sociales (solicitud de amistad, amigo se ha puesto "disponible").
Resultado al final de la Fase 3: Voleio se siente como una verdadera red social deportiva. El engagement aumenta a medida que los usuarios construyen su identidad digital a través de logros y su red de contactos.
Fase 4 y Más Allá: El Ecosistema Voleio
Estas fases ocurrirán después del lanzamiento inicial y se basarán en el feedback de los usuarios y las oportunidades de negocio.
Fase 4: Portal de Parceiros y Reservas:
Desarrollo de la aplicación para clubes, permitiéndoles gestionar sus canchas y disponibilidad.
Integración del sistema de reservas en la aplicación de jugadores.
Fase 5: Monetización y Funciones Premium:
Planes de suscripción para Parceiros.
Posibles funciones premium para usuarios (estadísticas avanzadas, personalización de perfil).
Fase 6: "Voleio en Vivo" (Streaming):
Investigación e implementación de la tecnología WebRTC para permitir la transmisión en vivo de partidos.
Fase 7: Panel de Administración:
Construcción de las herramientas internas para gestionar la plataforma eficientemente.

Tanda 4 de 5: Desglose de Frameworks, Librerías y Justificación de la Elección
Esta sección profundiza en el "porqué" del stack tecnológico definido en la Tanda 2. Cada elección está diseñada para maximizar la sinergia con las demás, creando un ecosistema de desarrollo cohesivo, moderno y extremadamente potente. La filosofía subyacente es la seguridad de tipos de extremo a extremo (end-to-end type safety) y una experiencia de desarrollador (DX) superior.
1. Arquitectura Frontend: La Experiencia de Usuario
El frontend es el rostro de Voleio. Debe ser rápido, reactivo, accesible y un placer de usar.
Next.js (con App Router):
Por qué: No es solo un framework de React; es una plataforma de producción. El App Router nos permite combinar lo mejor de varios mundos: componentes renderizados en el servidor (Server Components) para la velocidad y la eficiencia, componentes de cliente (Client Components) para la interactividad, y un sistema de layouts y routing anidado que simplifica la estructura de la aplicación. Para Voleio, esto significa que los perfiles de los clubes o los rankings pueden ser renderizados en el servidor para un SEO y rendimiento óptimos, mientras que el dashboard de partidos en tiempo real será altamente interactivo en el cliente.
Sinergia: Su integración con Vercel para el despliegue es inmejorable, automatizando gran parte del proceso de CI/CD.
Tailwind CSS:
Por qué: Abandonamos el CSS tradicional en favor de un enfoque de "utility-first". En lugar de escribir archivos CSS enormes, construimos interfaces complejas directamente en el HTML/JSX aplicando clases predefinidas (flex, pt-4, text-lg). Esto resulta en un desarrollo increíblemente rápido, sin cambios de contexto, y un diseño visualmente consistente en toda la aplicación. Evita la hinchazón del CSS y facilita la creación de componentes verdaderamente encapsulados.
Sinergia: Se combina a la perfección con Shadcn/UI y la filosofía de componentes de React.
Shadcn/UI + Radix UI:
Por qué: Esta es una elección deliberadamente moderna. En lugar de importar una librería de componentes "caja negra" (como Material-UI), Shadcn nos proporciona una colección de componentes bellamente diseñados que copiamos y pegamos en nuestro propio código. Están construidos sobre los primitivos de Radix UI, que garantizan una accesibilidad de clase mundial (manejo de teclado, roles ARIA, etc.).
La Ventaja Clave: Tenemos propiedad total sobre el código. ¿Necesitamos modificar un botón o un modal? Editamos el archivo directamente en nuestro proyecto. Esto nos da una flexibilidad infinita sin sacrificar la calidad ni la accesibilidad.
TanStack Query (React Query):
Por qué: Es la herramienta definitiva para gestionar el "estado del servidor". Sincronizar los datos de nuestra API con la UI es complejo (manejar estados de carga, errores, reintentos, caching). React Query abstrae toda esta complejidad con unos pocos hooks simples. Su capacidad para invalidar y refrescar datos en segundo plano hará que Voleio se sienta siempre actualizado y rápido.
Sinergia: Funciona de manera agnóstica con cualquier método de fetching, por lo que se integra a la perfección con nuestro cliente de GraphQL para realizar queries y mutaciones.
Zod + React Hook Form:
Por qué: Es el dúo dinámico para la gestión de formularios.
Zod: Define un esquema para la forma de nuestros datos (const userSchema = z.object({ email: z.string().email() })). Es la única fuente de verdad para la validación.
React Hook Form: Utiliza este esquema Zod para validar los formularios en el cliente de forma performante y sencilla.
Sinergia (El Súper Poder): La magia es que Zod puede inferir tipos de TypeScript a partir de los esquemas. Esto significa que definimos el esquema una sola vez y obtenemos validación en el frontend/backend y tipos estáticos para nuestro código, todo gratis.
2. Arquitectura Backend: El Motor de Voleio
El backend debe ser robusto, escalable y, sobre todo, capaz de manejar la comunicación en tiempo real de forma eficiente.
Apollo Server + GraphQL Subscriptions:
Por qué: Apollo es el estándar de la industria para servidores GraphQL en Node.js. Su principal ventaja para Voleio es su soporte nativo y robusto para Subscriptions, que operan sobre el protocolo WebSockets. Mientras que las Queries (lectura) y Mutations (escritura) son operaciones de una sola vez sobre HTTP, las Subscriptions crean una conexión persistente. Cuando un evento ocurre en el servidor (ej: "un nuevo jugador está disponible"), el servidor puede empujar esa información instantáneamente a todos los clientes suscritos. Esta es la tecnología que impulsa nuestro "Voleio Inmediato".
Sinergia: Se integra naturalmente con el ecosistema de Apollo en el frontend (Apollo Client), aunque usaremos React Query para el manejo del estado.
Prisma:
Por qué: Prisma revoluciona la forma en que interactuamos con la base de datos. Es un ORM de "nueva generación". Definimos nuestro esquema de base de datos en un archivo schema.prisma y Prisma genera un cliente de base de datos totalmente tipado.
La Ventaja Clave: Si intentamos consultar un campo en la tabla de usuarios que no existe, TypeScript nos dará un error en tiempo de compilación, no en producción. Esto elimina una categoría entera de errores y hace que el refactoring sea seguro y predecible. Su API de consulta es fluida e intuitiva.
PostgreSQL + PostGIS:
Por qué: PostgreSQL es una base de datos relacional increíblemente potente y fiable. La razón principal de su elección para Voleio es su extensión PostGIS. PostGIS convierte a PostgreSQL en una base de datos geoespacial de primer nivel.
La Ventaja Clave: En lugar de almacenar latitud y longitud como simples números, podemos almacenarlos como un tipo de dato geográfico Point. Esto nos permite ejecutar consultas geoespaciales extremadamente optimizadas directamente en la base de datos, como: Encuentra todos los jugadores con estado 'disponible' en un radio de 10 kilómetros desde la ubicación del usuario actual. Hacer esto a nivel de base de datos es órdenes de magnitud más rápido que traer todos los usuarios a la aplicación y calcular las distancias manualmente.
3. La Arquitectura Unificada: El Poder del Monorepo
Nx + TypeScript:
Por qué: Nx es el pegamento que une todo. Nos permite tener el frontend y el backend en el mismo repositorio, pero como proyectos separados e independientes. Su verdadera magia reside en las librerías compartidas.
El Flujo de Trabajo Ideal:
Definimos nuestros esquemas de datos usando Zod en una librería compartida (libs/api-interfaces).
El backend (apps/api) importa estos esquemas para validar los datos que llegan a través de la API de GraphQL.
El frontend (apps/web-app) importa exactamente los mismos esquemas para validar los formularios con React Hook Form.
Resultado: Tenemos una única fuente de verdad para la estructura de nuestros datos. Si necesitamos añadir un nuevo campo al perfil del usuario, lo añadimos en un solo lugar (el esquema Zod), y TypeScript nos avisará inmediatamente de todos los lugares en el frontend y el backend que necesitan ser actualizados. Esto es la seguridad de tipos de extremo a extremo en su máxima expresión y es lo que permite a un equipo moverse rápido y sin romper cosas.
En la quinta y última tanda, ensamblaremos todas estas piezas para crear el Proyecto Conceptual Final, un documento completo que servirá como la "biblia" para el desarrollo de Voleio.


